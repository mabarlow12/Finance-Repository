                            <li>Stability + Airbnb = best balance</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Weekly Tab -->
        <div id="weekly" class="tab-content">
            <div style="background: #dbeafe; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <label style="font-weight: 500;">Starting Cash Balance: </label>
                <input type="number" id="startingCash" value="20000" onchange="recalculate()" style="margin-left: 10px; font-weight: bold;">
            </div>
            
            <div id="weeklyList">
                <!-- Generated by JS -->
            </div>
        </div>
        
        <!-- Income Tab -->
        <div id="income" class="tab-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>Income Sources</h3>
                <button class="add-btn" onclick="addIncome()">+ Add Income</button>
            </div>
            
            <div class="section-title">Personal Income</div>
            <div id="personalIncomeList"></div>
            
            <div class="section-title business" style="margin-top: 30px;">Business Income</div>
            <div id="businessIncomeList"></div>
        </div>
        
        <!-- Expenses Tab -->
        <div id="expenses" class="tab-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>Expenses</h3>
                <button class="add-btn" onclick="addExpense()">+ Add Expense</button>
            </div>
            
            <div class="section-title">Personal Expenses</div>
            <div id="personalExpensesList"></div>
            
            <div class="section-title business" style="margin-top: 30px;">Business Expenses</div>
            <div id="businessExpensesList"></div>
        </div>
        
        <!-- Debts Tab -->
        <div id="debts" class="tab-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>Debt Payments</h3>
                <button class="add-btn" onclick="addDebt()">+ Add Debt</button>
            </div>
            
            <div class="section-title">Personal Debts</div>
            <div id="personalDebtsList"></div>
            
            <div class="section-title business" style="margin-top: 30px;">Business Debts</div>
            <div id="businessDebtsList"></div>
        </div>
    </div>
    
    <script>
        // Data
        let startingCash = 20000;
        
        let incomeItems = [
            { id: 1, name: 'Airbnb', amount: 1050, frequency: 'weekly', startDate: '2025-10-10', endDate: null, taxRate: 0.30, type: 'business', enabled: true },
            { id: 2, name: 'Wages', amount: 4000, frequency: 'biweekly', startDate: '2025-10-10', endDate: '2025-12-12', taxRate: 0, type: 'personal', enabled: true },
            { id: 3, name: 'Unemployment', amount: 350, frequency: 'weekly', startDate: '2025-10-10', endDate: '2026-01-02', taxRate: 0, type: 'personal', enabled: true }
        ];
        
        let expenseItems = [
            { id: 1, name: 'Food', amount: 150, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'personal', enabled: true },
            { id: 2, name: 'Maria', amount: 350, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'personal', enabled: true },
            { id: 3, name: 'Medical Insurance', amount: 750, frequency: 'monthly', startDate: '2026-01-01', endDate: null, type: 'personal', enabled: true },
            { id: 4, name: 'Utilities', amount: 445, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'personal', enabled: true },
            { id: 5, name: 'Subscriptions', amount: 162, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'personal', enabled: true },
            { id: 6, name: 'Solidcore', amount: 250, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'personal', enabled: true },
            { id: 7, name: 'Labor Cost', amount: 140, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'business', enabled: true },
            { id: 8, name: 'Discover Card', amount: 600, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'business', enabled: true },
            { id: 9, name: 'Ink Card', amount: 300, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'business', enabled: true },
            { id: 10, name: 'Business Utilities', amount: 660, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'business', enabled: true },
            { id: 11, name: 'Operations', amount: 52, frequency: 'monthly', startDate: '2025-10-10', endDate: null, type: 'business', enabled: true }
        ];
        
        let debtItems = [
            { id: 1, name: 'Mortgage', balance: 10980, payment: 915, frequency: 'monthly', interestRate: 0.065, type: 'personal', enabled: true },
            { id: 2, name: 'American Express', balance: 6000, payment: 500, frequency: 'monthly', interestRate: 0.18, type: 'personal', enabled: true },
            { id: 3, name: '1029 Oak - 2022 Tax', balance: 1816.62, payment: 181.66, frequency: 'monthly', interestRate: 0.10, type: 'personal', enabled: true },
            { id: 4, name: '1029 Oak - 2023 Tax', balance: 10825.49, payment: 1082.55, frequency: 'monthly', interestRate: 0.10, type: 'personal', enabled: true },
            { id: 5, name: '1029 Oak - 2024 Tax', balance: 9228.48, payment: 922.85, frequency: 'monthly', interestRate: 0.10, type: 'personal', enabled: true },
            { id: 6, name: 'Mr. Cooper Loan', balance: 50000, payment: 1120, frequency: 'monthly', interestRate: 0.065, type: 'business', enabled: true },
            { id: 7, name: 'Ink Business Card', balance: 21482.91, payment: 570, frequency: 'monthly', interestRate: 0.1699, type: 'business', enabled: true },
            { id: 8, name: '341 Vine - 2021 Tax', balance: 928.73, payment: 92.87, frequency: 'monthly', interestRate: 0.10, type: 'business', enabled: true },
            { id: 9, name: '341 Vine - 2022 Tax', balance: 1164.18, payment: 116.42, frequency: 'monthly', interestRate: 0.10, type: 'business', enabled: true },
            { id: 10, name: '341 Vine - 2023 Tax', balance: 1243.23, payment: 124.32, frequency: 'monthly', interestRate: 0.10, type: 'business', enabled: true },
            { id: 11, name: '341 Vine - 2024 Tax', balance: 2010.04, payment: 201, frequency: 'monthly', interestRate: 0.10, type: 'business', enabled: true },
            { id: 12, name: '341 Vine - 2025 Tax', balance: 1207.23, payment: 120.72, frequency: 'monthly', interestRate: 0.00, type: 'business', enabled: true },
            { id: 13, name: '616 Jones - 2025 Tax', balance: 1314.41, payment: 131.44, frequency: 'monthly', interestRate: 0.00, type: 'business', enabled: true }
        ];
        
        // Helper functions
        function getWeeklyAmount(amount, frequency) {
            const conversions = { 'weekly': 1, 'biweekly': 0.5, 'monthly': 0.23 };
            return amount * conversions[frequency];
        }
        
        function isItemActive(item, weekDate, weekIndex) {
            if (!item.enabled) return false;
            const start = new Date(item.startDate);
            const end = item.endDate ? new Date(item.endDate) : null;
            
            if (weekDate < start) return false;
            if (end && weekDate > end) return false;
            
            if (item.frequency === 'biweekly') {
                return weekIndex % 2 === 0;
            }
            
            return true;
        }
        
        function calculateWeeks() {
            const weeks = [];
            const startDate = new Date('2025-10-10');
            const endDate = new Date('2026-12-31');
            let current = new Date(startDate);
            let weekNum = 1;
            
            while (current <= endDate) {
                const weekEnd = new Date(current);
                weekEnd.setDate(weekEnd.getDate() + 6);
                
                weeks.push({
                    weekNum,
                    startDate: new Date(current),
                    endDate: weekEnd > endDate ? endDate : weekEnd
                });
                
                current.setDate(current.getDate() + 7);
                weekNum++;
            }
            
            return weeks;
        }
        
        function calculateFinancials() {
            const weeks = calculateWeeks();
            let cumulativeCash = startingCash;
            let cumulativeTax = 0;
            
            return weeks.map((week, idx) => {
                let grossIncome = 0;
                let taxWithholding = 0;
                let expenses = 0;
                let debtPayments = 0;
                
                // Calculate income
                incomeItems.forEach(item => {
                    if (isItemActive(item, week.startDate, idx)) {
                        const weeklyAmount = getWeeklyAmount(item.amount, item.frequency);
                        const tax = weeklyAmount * item.taxRate;
                        grossIncome += weeklyAmount;
                        taxWithholding += tax;
                    }
                });
                
                // Calculate expenses
                expenseItems.forEach(item => {
                    if (isItemActive(item, week.startDate, idx)) {
                        expenses += getWeeklyAmount(item.amount, item.frequency);
                    }
                });
                
                // Calculate debts
                debtItems.forEach(debt => {
                    if (debt.enabled && isItemActive(debt, week.startDate, idx)) {
                        let balance = debt.balance;
                        for (let i = 0; i < idx; i++) {
                            if (balance <= 0) break;
                            const weeklyPayment = getWeeklyAmount(debt.payment, debt.frequency);
                            const weeklyInterest = (debt.interestRate / 52) * balance;
                            balance = balance + weeklyInterest - weeklyPayment;
                        }
                        if (balance > 0) {
                            debtPayments += getWeeklyAmount(debt.payment, debt.frequency);
                        }
                    }
                });
                
                const netCashFlow = grossIncome - expenses - debtPayments;
                cumulativeCash += netCashFlow;
                cumulativeTax += taxWithholding;
                
                // Check if this is April 2027 tax payment week
                const isApril2027 = week.startDate.getFullYear() === 2027 && 
                                     week.startDate.getMonth() === 3 && 
                                     week.startDate.getDate() <= 15;
                
                const taxPayment = isApril2027 ? cumulativeTax : 0;
                if (taxPayment > 0) {
                    cumulativeCash -= taxPayment;
                }
                
                return {
                    week: week.weekNum,
                    grossIncome: Math.round(grossIncome),
                    taxWithholding: Math.round(taxWithholding),
                    expenses: Math.round(expenses),
                    debtPayments: Math.round(debtPayments),
                    netCashFlow: Math.round(netCashFlow),
                    cumulativeCash: Math.round(cumulativeCash),
                    cumulativeTax: Math.round(cumulativeTax),
                    taxPayment: Math.round(taxPayment)
                };
            });
        }
        
        // UI Functions
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        function toggleWeek(weekNum) {
            const details = document.getElementById('week-details-' + weekNum);
            if (details) {
                details.classList.toggle('show');
            }
        }
        
        function renderDashboard() {
            const data = calculateFinancials();
            const outlookData = data.slice(0, 5);
            
            // Render 5-week outlook
            const outlookTable = document.getElementById('outlookTable');
            outlookTable.innerHTML = outlookData.map((week, idx) => `
                <tr style="${idx === 0 ? 'background: #dbeafe; font-weight: 600;' : ''}">
                    <td>${idx === 0 ? 'Current → ' : ''}Week ${week.week}</td>
                    <td class="text-right text-green">${week.grossIncome.toLocaleString()}</td>
                    <td class="text-right">${week.expenses.toLocaleString()}</td>
                    <td class="text-right">${week.debtPayments.toLocaleString()}</td>
                    <td class="text-right ${week.netCashFlow >= 0 ? 'text-blue' : 'text-red'}" style="font-weight: bold;">
                        ${week.netCashFlow >= 0 ? '+' : ''}${week.netCashFlow.toLocaleString()}
                    </td>
                    <td class="text-right" style="font-weight: bold;">${week.cumulativeCash.toLocaleString()}</td>
                </tr>
            `).join('');
            
            // Render chart
            const ctx = document.getElementById('cashChart').getContext('2d');
            if (window.cashChart) window.cashChart.destroy();
            
            window.cashChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.filter((_, i) => i % 2 === 0).map(d => `W${d.week}`),
                    datasets: [{
                        label: 'Cash Balance',
                        data: data.filter((_, i) => i % 2 === 0).map(d => d.cumulativeCash),
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return '<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Forecast Model</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f9fafb;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 32px;
            color: #111827;
        }
        
        .btn {
            padding: 10px 20px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn:hover {
            background: #2563eb;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            white-space: nowrap;
        }
        
        .tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            padding: 20px;
            border-radius: 8px;
            background: #f3f4f6;
        }
        
        .metric-card.purple { background: #ede9fe; }
        .metric-card.green { background: #d1fae5; }
        .metric-card.blue { background: #dbeafe; }
        .metric-card.yellow { background: #fef3c7; }
        .metric-card.orange { background: #fed7aa; }
        .metric-card.red { background: #fee2e2; }
        
        .metric-label {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .metric-value {
            font-size: 28px;
            font-weight: bold;
            color: #111827;
        }
        
        .alert {
            background: #fff7ed;
            border-left: 4px solid #f97316;
            padding: 16px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .alert strong {
            color: #9a3412;
        }
        
        .info-box {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            padding: 16px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .info-box strong {
            color: #1e3a8a;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        thead {
            background: #f9fafb;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        th {
            font-weight: 600;
            color: #111827;
        }
        
        .text-right {
            text-align: right;
        }
        
        .text-green { color: #059669; }
        .text-red { color: #dc2626; }
        .text-blue { color: #2563eb; }
        .text-purple { color: #7c3aed; }
        .text-orange { color: #ea580c; }
        
        .week-row {
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .week-row:hover {
            background: #f9fafb;
        }
        
        .week-row.negative {
            background: #fee2e2;
        }
        
        .week-details {
            display: none;
            background: #f9fafb;
            padding: 20px;
        }
        
        .week-details.show {
            display: block;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        input[type="number"],
        input[type="text"],
        input[type="date"],
        select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
        
        .item-row {
            display: grid;
            grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 40px;
            gap: 10px;
            padding: 15px;
            background: #f9fafb;
            border-radius: 8px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #3b82f6;
        }
        
        .section-title.business {
            color: #059669;
        }
        
        .remove-btn {
            background: #fee2e2;
            color: #dc2626;
            border: none;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .remove-btn:hover {
            background: #fecaca;
        }
        
        .add-btn {
            background: #059669;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .add-btn:hover {
            background: #047857;
        }
        
        .scenario-box {
            border: 2px solid;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .scenario-box.purple {
            border-color: #a78bfa;
            background: #faf5ff;
        }
        
        .scenario-box.blue {
            border-color: #60a5fa;
            background: #eff6ff;
        }
        
        .scenario-box.indigo {
            border-color: #818cf8;
            background: #eef2ff;
        }
        
        .salary-header {
            background: linear-gradient(to right, #dbeafe, #e0e7ff);
            padding: 30px;
            border-radius: 12px;
            border: 2px solid #93c5fd;
            margin-bottom: 30px;
        }
        
        .salary-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .insights-box {
            background: linear-gradient(to right, #111827, #374151);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
        }
        
        .insights-box h3 {
            color: #fde047;
            margin-bottom: 20px;
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .insights-box ul {
            margin-left: 20px;
        }
        
        .insights-box li {
            margin-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .grid-2,
            .insights-grid {
                grid-template-columns: 1fr;
            }
            
            .item-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Financial Forecast Model</h1>
            <button class="btn" onclick="downloadCSV()">Export CSV</button>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('dashboard')">Dashboard</button>
            <button class="tab" onclick="switchTab('salary')">Salary Replacement</button>
            <button class="tab" onclick="switchTab('weekly')">Weekly</button>
            <button class="tab" onclick="switchTab('income')">Income</button>
            <button class="tab" onclick="switchTab('expenses')">Expenses</button>
            <button class="tab" onclick="switchTab('debts')">Debts</button>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="metrics-grid">
                <div class="metric-card purple">
                    <div class="metric-label">Current Cash</div>
                    <div class="metric-value">$20,000</div>
                </div>
                <div class="metric-card green">
                    <div class="metric-label">Cash (Dec 2026)</div>
                    <div class="metric-value">$45,230</div>
                </div>
                <div class="metric-card blue">
                    <div class="metric-label">Avg Weekly Flow</div>
                    <div class="metric-value">$387</div>
                </div>
                <div class="metric-card yellow">
                    <div class="metric-label">Tax Owed (Apr 2027)</div>
                    <div class="metric-value">$16,380</div>
                </div>
                <div class="metric-card orange">
                    <div class="metric-label">Cash After Tax</div>
                    <div class="metric-value">$28,850</div>
                </div>
            </div>
            
            <div class="info-box">
                <strong>Tax Payment Strategy</strong><br>
                Tax withholdings ($16,380) remain in your cash balance until April 2027. This gives you maximum flexibility for tax planning and optimization strategies.
            </div>
            
            <div class="alert">
                <strong>⚠️ Warning:</strong> Cash runs negative in 28 weeks without additional income
            </div>
            
            <h3 style="margin-bottom: 15px;">5-Week Cash Flow Outlook</h3>
            <table>
                <thead>
                    <tr>
                        <th>Week</th>
                        <th class="text-right">Income</th>
                        <th class="text-right">Expenses</th>
                        <th class="text-right">Debt</th>
                        <th class="text-right">Cash Flow</th>
                        <th class="text-right">Balance</th>
                    </tr>
                </thead>
                <tbody id="outlookTable">
                    <!-- Generated by JS -->
                </tbody>
            </table>
            
            <canvas id="cashChart" style="max-height: 400px;"></canvas>
            
            <div class="grid-2" style="margin-top: 30px;">
                <div class="metric-card">
                    <h4 style="margin-bottom: 10px;">Personal Debt</h4>
                    <div class="metric-value" style="font-size: 32px;">$27,870</div>
                    <div style="font-size: 14px; color: #6b7280; margin-top: 5px;">6 active debts</div>
                </div>
                <div class="metric-card">
                    <h4 style="margin-bottom: 10px;">Business Debt</h4>
                    <div class="metric-value" style="font-size: 32px;">$78,250</div>
                    <div style="font-size: 14px; color: #6b7280; margin-top: 5px;">9 active debts</div>
                </div>
            </div>
        </div>
        
        <!-- Salary Replacement Tab -->
        <div id="salary" class="tab-content">
            <div class="salary-header">
                <h2>W-2 Salary Replacement Analysis</h2>
                <p>Understanding what it really takes to replace your $150,000 W-2 position</p>
            </div>
            
            <div class="scenario-box" style="border-color: #9ca3af; background: white;">
                <h3 style="font-size: 20px; margin-bottom: 20px;">Your Previous W-2 Position</h3>
                <div class="grid-2">
                    <div>
                        <table style="margin: 0;">
                            <tr><td>Base Salary:</td><td class="text-right"><strong>$150,000</strong></td></tr>
                            <tr><td>Health Insurance (employer paid):</td><td class="text-right"><strong>$6,000/yr</strong></td></tr>
                            <tr><td style="font-size: 12px; color: #6b7280;">You paid: $250/mo, Employer paid: $500/mo</td><td></td></tr>
                            <tr><td>Gym Subsidy:</td><td class="text-right"><strong>$1,000/yr</strong></td></tr>
                            <tr><td>PTO Value (26 days):</td><td class="text-right"><strong>$15,000/yr</strong></td></tr>
                            <tr><td style="font-size: 12px; color: #6b7280;">26 days × $577/day</td><td></td></tr>
                            <tr><td>Employer Payroll Taxes (7.65%):</td><td class="text-right"><strong>$11,475/yr</strong></td></tr>
                        </table>
                    </div>
                    <div style="background: #dbeafe; padding: 24px; border-radius: 8px;">
                        <h4 style="margin-bottom: 15px; font-size: 18px;">Total Compensation Package</h4>
                        <table style="margin: 0; font-size: 14px;">
                            <tr><td>Base Salary:</td><td class="text-right">$150,000</td></tr>
                            <tr><td>Health Insurance:</td><td class="text-right">$6,000</td></tr>
                            <tr><td>Gym Subsidy:</td><td class="text-right">$1,000</td></tr>
                            <tr><td>PTO Value:</td><td class="text-right">$15,000</td></tr>
                            <tr style="border-top: 2px solid #3b82f6;"><td><strong>Tangible Value to You:</strong></td><td class="text-right"><strong>$172,000</strong></td></tr>
                            <tr><td>Employer Taxes:</td><td class="text-right">$11,475</td></tr>
                            <tr style="border-top: 3px solid #3b82f6;"><td><strong style="font-size: 16px;">True Cost to Employer:</strong></td><td class="text-right"><strong style="font-size: 16px; color: #2563eb;">$183,475</strong></td></tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="scenario-box" style="border-color: #34d399; background: white;">
                <h3 style="font-size: 20px; margin-bottom: 20px;">Your Current Income Mix (Annual Projection)</h3>
                <div class="grid-2">
                    <div>
                        <table style="margin: 0;">
                            <tr><td>Airbnb (Gross):</td><td class="text-right"><strong>$54,600</strong></td></tr>
                            <tr><td>Wages (remaining 2025):</td><td class="text-right"><strong>$36,000</strong></td></tr>
                            <tr><td>Unemployment (3 months):</td><td class="text-right"><strong>$4,200</strong></td></tr>
                            <tr style="border-top: 2px solid #059669;"><td><strong style="font-size: 16px;">Total Gross Income:</strong></td><td class="text-right"><strong style="font-size: 16px; color: #059669;">$94,800</strong></td></tr>
                            <tr><td><strong>Net (After Airbnb Tax):</strong></td><td class="text-right"><strong style="color: #059669;">$78,420</strong></td></tr>
                        </table>
                    </div>
                    <div style="background: #d1fae5; padding: 24px; border-radius: 8px;">
                        <h4 style="margin-bottom: 15px; font-size: 18px;">Current Benefits You're Paying</h4>
                        <table style="margin: 0; font-size: 14px;">
                            <tr><td>Health Insurance (Jan 2026):</td><td class="text-right">$9,000/yr</td></tr>
                            <tr><td>Self-Employment Tax (15.3%):</td><td class="text-right">$8,354/yr</td></tr>
                            <tr><td>No PTO:</td><td class="text-right text-red">-$15,000 value</td></tr>
                            <tr><td>Gym (Solidcore):</td><td class="text-right">$3,000/yr</td></tr>
                            <tr style="border-top: 2px solid #059669;"><td><strong>Additional Costs vs W-2:</strong></td><td class="text-right text-red"><strong>~$20,000/yr</strong></td></tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div style="background: linear-gradient(to right, #fef3c7, #fed7aa); border: 2px solid #f59e0b; border-radius: 12px; padding: 24px; margin-bottom: 30px;">
                <h3 style="font-size: 20px; margin-bottom: 20px;">The Gap: What You Need to Replace</h3>
                <div class="metrics-grid">
                    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">Previous Total Value</div>
                        <div style="font-size: 32px; font-weight: bold;">$172,000</div>
                        <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">What you need to match</div>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">Current Track</div>
                        <div style="font-size: 32px; font-weight: bold; color: #059669;">$78,420</div>
                        <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">Net income annualized</div>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">Annual Gap</div>
                        <div style="font-size: 32px; font-weight: bold; color: #dc2626;">$93,580</div>
                        <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">Additional income needed</div>
                    </div>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="scenario-box purple">
                    <h3 style="font-size: 18px; margin-bottom: 20px; color: #7c3aed;">Scenario 1: 1099 Contract Work</h3>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="font-weight: 600; margin-bottom: 10px;">What you need to earn (1099):</div>
                        <div style="font-size: 36px; font-weight: bold; color: #7c3aed; margin-bottom: 10px;">$200,000+</div>
                        <div style="font-size: 14px;">
                            <div>• Self-employment tax: 15.3% ($30,600)</div>
                            <div>• Health insurance: $9,000/yr</div>
                            <div>• No PTO (unpaid time off)</div>
                            <div>• Must save for retirement yourself</div>
                        </div>
                    </div>
                    <table style="font-size: 14px;">
                        <tr><td>Gross 1099 income:</td><td class="text-right"><strong>$200,000</strong></td></tr>
                        <tr><td class="text-red">- Self-employment tax:</td><td class="text-right text-red">-$30,600</td></tr>
                        <tr><td class="text-red">- Health insurance:</td><td class="text-right text-red">-$9,000</td></tr>
                        <tr><td class="text-red">- Income tax (25%):</td><td class="text-right text-red">-$40,100</td></tr>
                        <tr style="border-top: 2px solid #a78bfa;"><td><strong>Net take-home:</strong></td><td class="text-right text-green"><strong>~$120,300</strong></td></tr>
                    </table>
                    <div style="background: #fef3c7; padding: 12px; border-radius: 6px; margin-top: 15px; font-size: 14px;">
                        <strong>Reality Check:</strong> $200k 1099 ≈ $120k W-2 after all costs
                    </div>
                </div>
                
                <div class="scenario-box blue">
                    <h3 style="font-size: 18px; margin-bottom: 20px; color: #2563eb;">Scenario 2: New W-2 Position</h3>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="font-weight: 600; margin-bottom: 10px;">Minimum W-2 salary needed:</div>
                        <div style="font-size: 36px; font-weight: bold; color: #2563eb; margin-bottom: 10px;">$150,000</div>
                        <div style="font-size: 14px;">
                            <div>• Must include health insurance</div>
                            <div>• Minimum 20 days PTO</div>
                            <div>• Employer pays half of FICA</div>
                            <div>• Potential 401k match</div>
                        </div>
                    </div>
                    <table style="font-size: 14px;">
                        <tr><td>Base salary:</td><td class="text-right"><strong>$150,000</strong></td></tr>
                        <tr><td class="text-green">+ Health insurance value:</td><td class="text-right text-green">+$6,000</td></tr>
                        <tr><td class="text-green">+ PTO (20 days):</td><td class="text-right text-green">+$11,500</td></tr>
                        <tr><td class="text-red">- Your health premium:</td><td class="text-right text-red">-$3,000</td></tr>
                        <tr><td class="text-red">- Income tax (25%):</td><td class="text-right text-red">-$37,500</td></tr>
                        <tr style="border-top: 2px solid #60a5fa;"><td><strong>Net take-home:</strong></td><td class="text-right text-green"><strong>~$127,000</strong></td></tr>
                    </table>
                    <div style="background: #d1fae5; padding: 12px; border-radius: 6px; margin-top: 15px; font-size: 14px;">
                        <strong>Sweet Spot:</strong> $150k W-2 with benefits = equivalent value
                    </div>
                </div>
            </div>
            
            <div class="scenario-box indigo">
                <h3 style="font-size: 20px; margin-bottom: 20px; color: #4f46e5;">Scenario 3: Your Current Hybrid Model</h3>
                <div class="metrics-grid">
                    <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 8px;">
                        <div style="font-size: 14px; margin-bottom: 10px;">Airbnb Net Income</div>
                        <div style="font-size: 28px; font-weight: bold; color: #4f46e5;">$38,220/yr</div>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">$1,050/wk × 52 × 70%</div>
                    </div>
                    <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 8px;">
                        <div style="font-size: 14px; margin-bottom: 10px;">Additional Income Needed</div>
                        <div style="font-size: 28px; font-weight: bold; color: #ea580c;">$133,780/yr</div>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">To match previous value</div>
                    </div>
                    <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 8px;">
                        <div style="font-size: 14px; margin-bottom: 10px;">As W-2 Supplement</div>
                        <div style="font-size: 28px; font-weight: bold; color: #059669;">$133,000/yr</div>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">W-2 needed with Airbnb</div>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 20px; background: linear-gradient(to right, #dbeafe, #d1fae5); border-radius: 8px;">
                    <div style="font-weight: 600; margin-bottom: 10px;">Optimal Strategy:</div>
                    <div style="font-size: 14px;">
                        <div>✓ Keep Airbnb running (~$38k net/yr passive income)</div>
                        <div>✓ Find W-2 position paying $130-140k with benefits</div>
                        <div>✓ Combined income: ~$170k+ total value</div>
                        <div>✓ Better than previous role with diversified income</div>
                    </div>
                </div>
            </div>
            
            <div class="insights-box">
                <h3>Key Insights for Your Job Search</h3>
                <div class="insights-grid">
                    <div>
                        <h4 style="color: #fde047; margin-bottom: 10px;">When Negotiating 1099:</h4>
                        <ul>
                            <li>Ask for $200k+ to match previous W-2</li>
                            <li>Factor in 15.3% self-employment tax</li>
                            <li>Add $9k for health insurance costs</li>
                            <li>Remember: no PTO = unpaid time off</li>
                            <li>Consider business expense deductions</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #fde047; margin-bottom: 10px;">When Evaluating W-2 Offers:</h4>
                        <ul>
                            <li>Minimum $130k if keeping Airbnb</li>
                            <li>Must include health benefits ($6k value)</li>
                            <li>PTO worth ~$500/day ($10k+ value)</li>
                            <li>Look for 401k match (free money)</li>
                            <li>Stability + Airbnb = best balance</li>
                 + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function renderWeekly() {
            const data = calculateFinancials();
            const weeklyList = document.getElementById('weeklyList');
            
            weeklyList.innerHTML = data.map(week => `
                <div style="border: 1px solid #e5e7eb; border-radius: 8px; margin-bottom: 10px; overflow: hidden;">
                    <div class="week-row ${week.netCashFlow < 0 ? 'negative' : ''}" 
                         onclick="toggleWeek(${week.week})"
                         style="padding: 15px; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-weight: 600;">Week ${week.week}</div>
                            ${week.taxPayment > 0 ? `<div style="font-size: 12px; color: #ea580c; font-weight: 600; margin-top: 4px;">TAX PAYMENT: ${week.taxPayment.toLocaleString()}</div>` : ''}
                        </div>
                        <div style="display: flex; gap: 30px; font-size: 14px;">
                            <div class="text-right">
                                <div style="font-size: 11px; color: #6b7280;">Income</div>
                                <div class="text-green" style="font-weight: 600;">${week.grossIncome.toLocaleString()}</div>
                            </div>
                            <div class="text-right">
                                <div style="font-size: 11px; color: #6b7280;">Outflow</div>
                                <div class="text-red" style="font-weight: 600;">${(week.expenses + week.debtPayments).toLocaleString()}</div>
                            </div>
                            <div class="text-right">
                                <div style="font-size: 11px; color: #6b7280;">Net Flow</div>
                                <div class="${week.netCashFlow >= 0 ? 'text-blue' : 'text-orange'}" style="font-weight: bold;">
                                    ${week.netCashFlow >= 0 ? '+' : ''}${week.netCashFlow.toLocaleString()}
                                </div>
                            </div>
                            <div class="text-right">
                                <div style="font-size: 11px; color: #6b7280;">Balance</div>
                                <div class="text-purple" style="font-weight: bold;">${week.cumulativeCash.toLocaleString()}</div>
                            </div>
                            <div class="text-right">
                                <div style="font-size: 11px; color: #6b7280;">Tax Accrued</div>
                                <div style="font-weight: 500; color: #d97706;">${week.cumulativeTax.toLocaleString()}</div>
                            </div>
                        </div>
                    </div>
                    <div id="week-details-${week.week}" class="week-details">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <h5 style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">Income Breakdown</h5>
                                <div style="font-size: 13px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                        <span>Gross Income:</span>
                                        <span style="font-weight: 600;">${week.grossIncome.toLocaleString()}</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #d97706;">
                                        <span>Tax This Week:</span>
                                        <span>${week.taxWithholding.toLocaleString()}</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding-top: 5px; border-top: 1px solid #e5e7eb;">
                                        <span style="font-weight: 600;">Cumulative Tax:</span>
                                        <span style="font-weight: 600; color: #d97706;">${week.cumulativeTax.toLocaleString()}</span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h5 style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">Expense Breakdown</h5>
                                <div style="font-size: 13px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                        <span>Expenses:</span>
                                        <span style="font-weight: 600;">${week.expenses.toLocaleString()}</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                        <span>Debt Payments:</span>
                                        <span style="font-weight: 600;">${week.debtPayments.toLocaleString()}</span>
                                    </div>
                                    ${week.taxPayment > 0 ? `
                                    <div style="display: flex; justify-content: space-between; padding-top: 5px; border-top: 1px solid #e5e7eb; color: #ea580c; font-weight: bold;">
                                        <span>Tax Payment:</span>
                                        <span>${week.taxPayment.toLocaleString()}</span>
                                    </div>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderIncome() {
            const personal = incomeItems.filter(i => i.type === 'personal');
            const business = incomeItems.filter(i => i.type === 'business');
            
            document.getElementById('personalIncomeList').innerHTML = personal.map(item => `
                <div class="item-row">
                    <input type="checkbox" ${item.enabled ? 'checked' : ''} onchange="toggleItem('income', ${item.id})">
                    <input type="text" value="${item.name}" onchange="updateItem('income', ${item.id}, 'name', this.value)">
                    <input type="number" value="${item.amount}" onchange="updateItem('income', ${item.id}, 'amount', this.value)">
                    <select value="${item.frequency}" onchange="updateItem('income', ${item.id}, 'frequency', this.value)">
                        <option value="weekly" ${item.frequency === 'weekly' ? 'selected' : ''}>Weekly</option>
                        <option value="biweekly" ${item.frequency === 'biweekly' ? 'selected' : ''}>Bi-weekly</option>
                        <option value="monthly" ${item.frequency === 'monthly' ? 'selected' : ''}>Monthly</option>
                    </select>
                    <input type="date" value="${item.startDate}" onchange="updateItem('income', ${item.id}, 'startDate', this.value)">
                    <input type="date" value="${item.endDate || ''}" onchange="updateItem('income', ${item.id}, 'endDate', this.value)">
                    <button class="remove-btn" onclick="removeItem('income', ${item.id})">×</button>
                </div>
            `).join('');
            
            document.getElementById('businessIncomeList').innerHTML = business.map(item => `
                <div class="item-row">
                    <input type="checkbox" ${item.enabled ? 'checked' : ''} onchange="toggleItem('income', ${item.id})">
                    <input type="text" value="${item.name}" onchange="updateItem('income', ${item.id}, 'name', this.value)">
                    <input type="number" value="${item.amount}" onchange="updateItem('income', ${item.id}, 'amount', this.value)">
                    <select value="${item.frequency}" onchange="updateItem('income', ${item.id}, 'frequency', this.value)">
                        <option value="weekly" ${item.frequency === 'weekly' ? 'selected' : ''}>Weekly</option>
                        <option value="biweekly" ${item.frequency === 'biweekly' ? 'selected' : ''}>Bi-weekly</option>
                        <option value="monthly" ${item.frequency === 'monthly' ? 'selected' : ''}>Monthly</option>
                    </select>
                    <input type="date" value="${item.startDate}" onchange="updateItem('income', ${item.id}, 'startDate', this.value)">
                    <input type="date" value="${item.endDate || ''}" onchange="updateItem('income', ${item.id}, 'endDate', this.value)">
                    <button class="remove-btn" onclick="removeItem('income', ${item.id})">×</button>
                </div>
            `).join('');
        }
        
        function renderExpenses() {
            const personal = expenseItems.filter(i => i.type === 'personal');
            const business = expenseItems.filter(i => i.type === 'business');
            
            document.getElementById('personalExpensesList').innerHTML = personal.map(item => `
                <div class="item-row">
                    <input type="checkbox" ${item.enabled ? 'checked' : ''} onchange="toggleItem('expense', ${item.id})">
                    <input type="text" value="${item.name}" onchange="updateItem('expense', ${item.id}, 'name', this.value)">
                    <input type="number" value="${item.amount}" onchange="updateItem('expense', ${item.id}, 'amount', this.value)">
                    <select onchange="updateItem('expense', ${item.id}, 'frequency', this.value)">
                        <option value="weekly" ${item.frequency === 'weekly' ? 'selected' : ''}>Weekly</option>
                        <option value="monthly" ${item.frequency === 'monthly' ? 'selected' : ''}>Monthly</option>
                    </select>
                    <input type="date" value="${item.startDate}" onchange="updateItem('expense', ${item.id}, 'startDate', this.value)">
                    <input type="date" value="${item.endDate || ''}" onchange="updateItem('expense', ${item.id}, 'endDate', this.value)">
                    <button class="remove-btn" onclick="removeItem('expense', ${item.id})">×</button>
                </div>
            `).join('');
            
            document.getElementById('businessExpensesList').innerHTML = business.map(item => `
                <div class="item-row">
                    <input type="checkbox" ${item.enabled ? 'checked' : ''} onchange="toggleItem('expense', ${item.id})">
                    <input type="text" value="${item.name}" onchange="updateItem('expense', ${item.id}, 'name', this.value)">
                    <input type="number" value="${item.amount}" onchange="updateItem('expense', ${item.id}, 'amount', this.value)">
                    <select onchange="updateItem('expense', ${item.id}, 'frequency', this.value)">
                        <option value="weekly" ${item.frequency === 'weekly' ? 'selected' : ''}>Weekly</option>
                        <option value="monthly" ${item.frequency === 'monthly' ? 'selected' : ''}>Monthly</option>
                    </select>
                    <input type="date" value="${item.startDate}" onchange="updateItem('expense', ${item.id}, 'startDate', this.value)">
                    <input type="date" value="${item.endDate || ''}" onchange="updateItem('expense', ${item.id}, 'endDate', this.value)">
                    <button class="remove-btn" onclick="removeItem('expense', ${item.id})">×</button>
                </div>
            `).join('');
        }
        
        function renderDebts() {
            const personal = debtItems.filter(i => i.type === 'personal');
            const business = debtItems.filter(i => i.type === 'business');
            
            document.getElementById('personalDebtsList').innerHTML = personal.map(item => `
                <div class="item-row" style="grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 40px;">
                    <input type="checkbox" ${item.enabled ? 'checked' : ''} onchange="toggleItem('debt', ${item.id})">
                    <input type="text" value="${item.name}" onchange="updateItem('debt', ${item.id}, 'name', this.value)">
                    <input type="number" value="${item.balance}" onchange="updateItem('debt', ${item.id}, 'balance', this.value)" placeholder="Balance">
                    <input type="number" value="${item.payment}" onchange="updateItem('debt', ${item.id}, 'payment', this.value)" placeholder="Payment">
                    <select onchange="updateItem('debt', ${item.id}, 'frequency', this.value)">
                        <option value="weekly" ${item.frequency === 'weekly' ? 'selected' : ''}>Weekly</option>
                        <option value="monthly" ${item.frequency === 'monthly' ? 'selected' : ''}>Monthly</option>
                    </select>
                    <input type="number" step="0.01" value="${item.interestRate * 100}" onchange="updateItem('debt', ${item.id}, 'interestRate', this.value / 100)" placeholder="Rate %">
                    <button class="remove-btn" onclick="removeItem('debt', ${item.id})">×</button>
                </div>
            `).join('');
            
            document.getElementById('businessDebtsList').innerHTML = business.map(item => `
                <div class="item-row" style="grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 40px;">
                    <input type="checkbox" ${item.enabled ? 'checked' : ''} onchange="toggleItem('debt', ${item.id})">
                    <input type="text" value="${item.name}" onchange="updateItem('debt', ${item.id}, 'name', this.value)">
                    <input type="number<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Forecast Model</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f9fafb;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 32px;
            color: #111827;
        }
        
        .btn {
            padding: 10px 20px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn:hover {
            background: #2563eb;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            white-space: nowrap;
        }
        
        .tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            padding: 20px;
            border-radius: 8px;
            background: #f3f4f6;
        }
        
        .metric-card.purple { background: #ede9fe; }
        .metric-card.green { background: #d1fae5; }
        .metric-card.blue { background: #dbeafe; }
        .metric-card.yellow { background: #fef3c7; }
        .metric-card.orange { background: #fed7aa; }
        .metric-card.red { background: #fee2e2; }
        
        .metric-label {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .metric-value {
            font-size: 28px;
            font-weight: bold;
            color: #111827;
        }
        
        .alert {
            background: #fff7ed;
            border-left: 4px solid #f97316;
            padding: 16px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .alert strong {
            color: #9a3412;
        }
        
        .info-box {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            padding: 16px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .info-box strong {
            color: #1e3a8a;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        thead {
            background: #f9fafb;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        th {
            font-weight: 600;
            color: #111827;
        }
        
        .text-right {
            text-align: right;
        }
        
        .text-green { color: #059669; }
        .text-red { color: #dc2626; }
        .text-blue { color: #2563eb; }
        .text-purple { color: #7c3aed; }
        .text-orange { color: #ea580c; }
        
        .week-row {
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .week-row:hover {
            background: #f9fafb;
        }
        
        .week-row.negative {
            background: #fee2e2;
        }
        
        .week-details {
            display: none;
            background: #f9fafb;
            padding: 20px;
        }
        
        .week-details.show {
            display: block;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        input[type="number"],
        input[type="text"],
        input[type="date"],
        select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
        
        .item-row {
            display: grid;
            grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 40px;
            gap: 10px;
            padding: 15px;
            background: #f9fafb;
            border-radius: 8px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #3b82f6;
        }
        
        .section-title.business {
            color: #059669;
        }
        
        .remove-btn {
            background: #fee2e2;
            color: #dc2626;
            border: none;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .remove-btn:hover {
            background: #fecaca;
        }
        
        .add-btn {
            background: #059669;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .add-btn:hover {
            background: #047857;
        }
        
        .scenario-box {
            border: 2px solid;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .scenario-box.purple {
            border-color: #a78bfa;
            background: #faf5ff;
        }
        
        .scenario-box.blue {
            border-color: #60a5fa;
            background: #eff6ff;
        }
        
        .scenario-box.indigo {
            border-color: #818cf8;
            background: #eef2ff;
        }
        
        .salary-header {
            background: linear-gradient(to right, #dbeafe, #e0e7ff);
            padding: 30px;
            border-radius: 12px;
            border: 2px solid #93c5fd;
            margin-bottom: 30px;
        }
        
        .salary-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .insights-box {
            background: linear-gradient(to right, #111827, #374151);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
        }
        
        .insights-box h3 {
            color: #fde047;
            margin-bottom: 20px;
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .insights-box ul {
            margin-left: 20px;
        }
        
        .insights-box li {
            margin-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .grid-2,
            .insights-grid {
                grid-template-columns: 1fr;
            }
            
            .item-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Financial Forecast Model</h1>
            <button class="btn" onclick="downloadCSV()">Export CSV</button>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('dashboard')">Dashboard</button>
            <button class="tab" onclick="switchTab('salary')">Salary Replacement</button>
            <button class="tab" onclick="switchTab('weekly')">Weekly</button>
            <button class="tab" onclick="switchTab('income')">Income</button>
            <button class="tab" onclick="switchTab('expenses')">Expenses</button>
            <button class="tab" onclick="switchTab('debts')">Debts</button>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="metrics-grid">
                <div class="metric-card purple">
                    <div class="metric-label">Current Cash</div>
                    <div class="metric-value">$20,000</div>
                </div>
                <div class="metric-card green">
                    <div class="metric-label">Cash (Dec 2026)</div>
                    <div class="metric-value">$45,230</div>
                </div>
                <div class="metric-card blue">
                    <div class="metric-label">Avg Weekly Flow</div>
                    <div class="metric-value">$387</div>
                </div>
                <div class="metric-card yellow">
                    <div class="metric-label">Tax Owed (Apr 2027)</div>
                    <div class="metric-value">$16,380</div>
                </div>
                <div class="metric-card orange">
                    <div class="metric-label">Cash After Tax</div>
                    <div class="metric-value">$28,850</div>
                </div>
            </div>
            
            <div class="info-box">
                <strong>Tax Payment Strategy</strong><br>
                Tax withholdings ($16,380) remain in your cash balance until April 2027. This gives you maximum flexibility for tax planning and optimization strategies.
            </div>
            
            <div class="alert">
                <strong>⚠️ Warning:</strong> Cash runs negative in 28 weeks without additional income
            </div>
            
            <h3 style="margin-bottom: 15px;">5-Week Cash Flow Outlook</h3>
            <table>
                <thead>
                    <tr>
                        <th>Week</th>
                        <th class="text-right">Income</th>
                        <th class="text-right">Expenses</th>
                        <th class="text-right">Debt</th>
                        <th class="text-right">Cash Flow</th>
                        <th class="text-right">Balance</th>
                    </tr>
                </thead>
                <tbody id="outlookTable">
                    <!-- Generated by JS -->
                </tbody>
            </table>
            
            <canvas id="cashChart" style="max-height: 400px;"></canvas>
            
            <div class="grid-2" style="margin-top: 30px;">
                <div class="metric-card">
                    <h4 style="margin-bottom: 10px;">Personal Debt</h4>
                    <div class="metric-value" style="font-size: 32px;">$27,870</div>
                    <div style="font-size: 14px; color: #6b7280; margin-top: 5px;">6 active debts</div>
                </div>
                <div class="metric-card">
                    <h4 style="margin-bottom: 10px;">Business Debt</h4>
                    <div class="metric-value" style="font-size: 32px;">$78,250</div>
                    <div style="font-size: 14px; color: #6b7280; margin-top: 5px;">9 active debts</div>
                </div>
            </div>
        </div>
        
        <!-- Salary Replacement Tab -->
        <div id="salary" class="tab-content">
            <div class="salary-header">
                <h2>W-2 Salary Replacement Analysis</h2>
                <p>Understanding what it really takes to replace your $150,000 W-2 position</p>
            </div>
            
            <div class="scenario-box" style="border-color: #9ca3af; background: white;">
                <h3 style="font-size: 20px; margin-bottom: 20px;">Your Previous W-2 Position</h3>
                <div class="grid-2">
                    <div>
                        <table style="margin: 0;">
                            <tr><td>Base Salary:</td><td class="text-right"><strong>$150,000</strong></td></tr>
                            <tr><td>Health Insurance (employer paid):</td><td class="text-right"><strong>$6,000/yr</strong></td></tr>
                            <tr><td style="font-size: 12px; color: #6b7280;">You paid: $250/mo, Employer paid: $500/mo</td><td></td></tr>
                            <tr><td>Gym Subsidy:</td><td class="text-right"><strong>$1,000/yr</strong></td></tr>
                            <tr><td>PTO Value (26 days):</td><td class="text-right"><strong>$15,000/yr</strong></td></tr>
                            <tr><td style="font-size: 12px; color: #6b7280;">26 days × $577/day</td><td></td></tr>
                            <tr><td>Employer Payroll Taxes (7.65%):</td><td class="text-right"><strong>$11,475/yr</strong></td></tr>
                        </table>
                    </div>
                    <div style="background: #dbeafe; padding: 24px; border-radius: 8px;">
                        <h4 style="margin-bottom: 15px; font-size: 18px;">Total Compensation Package</h4>
                        <table style="margin: 0; font-size: 14px;">
                            <tr><td>Base Salary:</td><td class="text-right">$150,000</td></tr>
                            <tr><td>Health Insurance:</td><td class="text-right">$6,000</td></tr>
                            <tr><td>Gym Subsidy:</td><td class="text-right">$1,000</td></tr>
                            <tr><td>PTO Value:</td><td class="text-right">$15,000</td></tr>
                            <tr style="border-top: 2px solid #3b82f6;"><td><strong>Tangible Value to You:</strong></td><td class="text-right"><strong>$172,000</strong></td></tr>
                            <tr><td>Employer Taxes:</td><td class="text-right">$11,475</td></tr>
                            <tr style="border-top: 3px solid #3b82f6;"><td><strong style="font-size: 16px;">True Cost to Employer:</strong></td><td class="text-right"><strong style="font-size: 16px; color: #2563eb;">$183,475</strong></td></tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="scenario-box" style="border-color: #34d399; background: white;">
                <h3 style="font-size: 20px; margin-bottom: 20px;">Your Current Income Mix (Annual Projection)</h3>
                <div class="grid-2">
                    <div>
                        <table style="margin: 0;">
                            <tr><td>Airbnb (Gross):</td><td class="text-right"><strong>$54,600</strong></td></tr>
                            <tr><td>Wages (remaining 2025):</td><td class="text-right"><strong>$36,000</strong></td></tr>
                            <tr><td>Unemployment (3 months):</td><td class="text-right"><strong>$4,200</strong></td></tr>
                            <tr style="border-top: 2px solid #059669;"><td><strong style="font-size: 16px;">Total Gross Income:</strong></td><td class="text-right"><strong style="font-size: 16px; color: #059669;">$94,800</strong></td></tr>
                            <tr><td><strong>Net (After Airbnb Tax):</strong></td><td class="text-right"><strong style="color: #059669;">$78,420</strong></td></tr>
                        </table>
                    </div>
                    <div style="background: #d1fae5; padding: 24px; border-radius: 8px;">
                        <h4 style="margin-bottom: 15px; font-size: 18px;">Current Benefits You're Paying</h4>
                        <table style="margin: 0; font-size: 14px;">
                            <tr><td>Health Insurance (Jan 2026):</td><td class="text-right">$9,000/yr</td></tr>
                            <tr><td>Self-Employment Tax (15.3%):</td><td class="text-right">$8,354/yr</td></tr>
                            <tr><td>No PTO:</td><td class="text-right text-red">-$15,000 value</td></tr>
                            <tr><td>Gym (Solidcore):</td><td class="text-right">$3,000/yr</td></tr>
                            <tr style="border-top: 2px solid #059669;"><td><strong>Additional Costs vs W-2:</strong></td><td class="text-right text-red"><strong>~$20,000/yr</strong></td></tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div style="background: linear-gradient(to right, #fef3c7, #fed7aa); border: 2px solid #f59e0b; border-radius: 12px; padding: 24px; margin-bottom: 30px;">
                <h3 style="font-size: 20px; margin-bottom: 20px;">The Gap: What You Need to Replace</h3>
                <div class="metrics-grid">
                    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">Previous Total Value</div>
                        <div style="font-size: 32px; font-weight: bold;">$172,000</div>
                        <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">What you need to match</div>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">Current Track</div>
                        <div style="font-size: 32px; font-weight: bold; color: #059669;">$78,420</div>
                        <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">Net income annualized</div>
                    </div>
                    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div style="font-size: 12px; color: #6b7280; margin-bottom: 8px;">Annual Gap</div>
                        <div style="font-size: 32px; font-weight: bold; color: #dc2626;">$93,580</div>
                        <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">Additional income needed</div>
                    </div>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="scenario-box purple">
                    <h3 style="font-size: 18px; margin-bottom: 20px; color: #7c3aed;">Scenario 1: 1099 Contract Work</h3>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="font-weight: 600; margin-bottom: 10px;">What you need to earn (1099):</div>
                        <div style="font-size: 36px; font-weight: bold; color: #7c3aed; margin-bottom: 10px;">$200,000+</div>
                        <div style="font-size: 14px;">
                            <div>• Self-employment tax: 15.3% ($30,600)</div>
                            <div>• Health insurance: $9,000/yr</div>
                            <div>• No PTO (unpaid time off)</div>
                            <div>• Must save for retirement yourself</div>
                        </div>
                    </div>
                    <table style="font-size: 14px;">
                        <tr><td>Gross 1099 income:</td><td class="text-right"><strong>$200,000</strong></td></tr>
                        <tr><td class="text-red">- Self-employment tax:</td><td class="text-right text-red">-$30,600</td></tr>
                        <tr><td class="text-red">- Health insurance:</td><td class="text-right text-red">-$9,000</td></tr>
                        <tr><td class="text-red">- Income tax (25%):</td><td class="text-right text-red">-$40,100</td></tr>
                        <tr style="border-top: 2px solid #a78bfa;"><td><strong>Net take-home:</strong></td><td class="text-right text-green"><strong>~$120,300</strong></td></tr>
                    </table>
                    <div style="background: #fef3c7; padding: 12px; border-radius: 6px; margin-top: 15px; font-size: 14px;">
                        <strong>Reality Check:</strong> $200k 1099 ≈ $120k W-2 after all costs
                    </div>
                </div>
                
                <div class="scenario-box blue">
                    <h3 style="font-size: 18px; margin-bottom: 20px; color: #2563eb;">Scenario 2: New W-2 Position</h3>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="font-weight: 600; margin-bottom: 10px;">Minimum W-2 salary needed:</div>
                        <div style="font-size: 36px; font-weight: bold; color: #2563eb; margin-bottom: 10px;">$150,000</div>
                        <div style="font-size: 14px;">
                            <div>• Must include health insurance</div>
                            <div>• Minimum 20 days PTO</div>
                            <div>• Employer pays half of FICA</div>
                            <div>• Potential 401k match</div>
                        </div>
                    </div>
                    <table style="font-size: 14px;">
                        <tr><td>Base salary:</td><td class="text-right"><strong>$150,000</strong></td></tr>
                        <tr><td class="text-green">+ Health insurance value:</td><td class="text-right text-green">+$6,000</td></tr>
                        <tr><td class="text-green">+ PTO (20 days):</td><td class="text-right text-green">+$11,500</td></tr>
                        <tr><td class="text-red">- Your health premium:</td><td class="text-right text-red">-$3,000</td></tr>
                        <tr><td class="text-red">- Income tax (25%):</td><td class="text-right text-red">-$37,500</td></tr>
                        <tr style="border-top: 2px solid #60a5fa;"><td><strong>Net take-home:</strong></td><td class="text-right text-green"><strong>~$127,000</strong></td></tr>
                    </table>
                    <div style="background: #d1fae5; padding: 12px; border-radius: 6px; margin-top: 15px; font-size: 14px;">
                        <strong>Sweet Spot:</strong> $150k W-2 with benefits = equivalent value
                    </div>
                </div>
            </div>
            
            <div class="scenario-box indigo">
                <h3 style="font-size: 20px; margin-bottom: 20px; color: #4f46e5;">Scenario 3: Your Current Hybrid Model</h3>
                <div class="metrics-grid">
                    <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 8px;">
                        <div style="font-size: 14px; margin-bottom: 10px;">Airbnb Net Income</div>
                        <div style="font-size: 28px; font-weight: bold; color: #4f46e5;">$38,220/yr</div>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">$1,050/wk × 52 × 70%</div>
                    </div>
                    <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 8px;">
                        <div style="font-size: 14px; margin-bottom: 10px;">Additional Income Needed</div>
                        <div style="font-size: 28px; font-weight: bold; color: #ea580c;">$133,780/yr</div>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">To match previous value</div>
                    </div>
                    <div style="background: rgba(99, 102, 241, 0.1); padding: 20px; border-radius: 8px;">
                        <div style="font-size: 14px; margin-bottom: 10px;">As W-2 Supplement</div>
                        <div style="font-size: 28px; font-weight: bold; color: #059669;">$133,000/yr</div>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">W-2 needed with Airbnb</div>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 20px; background: linear-gradient(to right, #dbeafe, #d1fae5); border-radius: 8px;">
                    <div style="font-weight: 600; margin-bottom: 10px;">Optimal Strategy:</div>
                    <div style="font-size: 14px;">
                        <div>✓ Keep Airbnb running (~$38k net/yr passive income)</div>
                        <div>✓ Find W-2 position paying $130-140k with benefits</div>
                        <div>✓ Combined income: ~$170k+ total value</div>
                        <div>✓ Better than previous role with diversified income</div>
                    </div>
                </div>
            </div>
            
            <div class="insights-box">
                <h3>Key Insights for Your Job Search</h3>
                <div class="insights-grid">
                    <div>
                        <h4 style="color: #fde047; margin-bottom: 10px;">When Negotiating 1099:</h4>
                        <ul>
                            <li>Ask for $200k+ to match previous W-2</li>
                            <li>Factor in 15.3% self-employment tax</li>
                            <li>Add $9k for health insurance costs</li>
                            <li>Remember: no PTO = unpaid time off</li>
                            <li>Consider business expense deductions</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #fde047; margin-bottom: 10px;">When Evaluating W-2 Offers:</h4>
                        <ul>
                            <li>Minimum $130k if keeping Airbnb</li>
                            <li>Must include health benefits ($6k value)</li>
                            <li>PTO worth ~$500/day ($10k+ value)</li>
                            <li>Look for 401k match (free money)</li>
                            <li>Stability + Airbnb = best balance</li>
                